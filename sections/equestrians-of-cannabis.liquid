{% assign article_one = articles[section.settings.article_one] %}
{% assign article_two = articles[section.settings.article_two] %}
{% assign latest_article = blogs['equestrians-of-cannabis'].articles[0] %}

<div class="{{section.settings.spacing}}">
    <div class="container mx-auto px-4 md:px-0">
        <div class="flex flex-col md:flex-row md:space-x-24">
            <div class="flex-1 space-y-12">
                <div data-aos="down">
                    <h2 class="brand-primary text-2xl tracking-tight md:text-5xl capitalize">{{section.settings.heading}}</h2>
                    <p>{{section.settings.content}}</p>
                </div>
                <div data-aos="down" class="text-center">
                    <p>{{section.settings.cta_text}}</p>
                    <a class="inline-block bg-brand-primary px-6 py-2 text-white font-bold rounded-full" href="{{section.settings.cta_url}}">SEE ALL ARTICLES</a>
                </div>
                {% unless article_one == blank %}
                <div>
                    {% render 'article-two' with article_one as article, aspect_ratio: section.settings.aspect_ratio %}
                </div>    
                {% else %}
                {% endunless %}
                
            </div>
            <div class="flex-1 space-y-16">
                {% unless article_two == blank %}
                <div>
                    {% render 'article-two' with article_two as article, aspect_ratio: section.settings.aspect_ratio %}
                </div>
                {% else %}
                {% render 'article-two' with latest_article as article, aspect_ratio: section.settings.aspect_ratio %}
                {% endunless %}
            </div>
        </div>
    </div>
</div>





{% schema %}
{
    "name": "Equestrians of Cannabis",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "textarea",
            "id": "content",
            "label": "Content"
        },
        {
            "type": "article",
            "id": "article_one",
            "label": "Article One"
        },
        {
            "type": "article",
            "id": "article_two",
            "label": "Article Two"
        },
        {
            "type": "text",
            "id": "cta_text",
            "label": "CTA Text"
        },
        {
            "type": "url",
            "id": "cta_url",
            "label": "CTA URL"
        },
        {
            "type": "header",
            "content": "Style"
        },
        {
            "type": "select",
            "id": "spacing",
            "label": "Spacing",
            "options": [
                {
                    "value": "py-16",
                    "label": "sm"
                }, {
                    "value": "py-20",
                    "label": "md"
                }, {
                    "value": "py-32",
                    "label": "lg"
                }, {
                    "value": "py-40",
                    "label": "xl"
                }
            ]
        },
        {
            "type": "select",
            "id": "aspect_ratio",
            "label": "Image aspect ratio",
            "options": [
              {
                "value": "aspect-1-1",
                "label": "1:1"
              },
              {
                "value": "aspect-4-3",
                "label": "4:3"
              },
              {
                "value": "aspect-3-2",
                "label": "3:2"
              },
              {
                "value": "aspect-16-9",
                "label": "16:9"
              }
            ],
            "default": "aspect-3-2"
          }
    ]
}
{% endschema %}